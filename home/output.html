<!DOCTYPE html>
<html>
   <head>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
      <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
      <link rel="stylesheet" href="index.css">
      <link rel="shortcut icon" type="image/jpg" href="~/icon.png"/>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
   </script>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>AJH's Vault V6</title>
   <meta name="description" content="An educational resource for students, featuring interactive tools and web-based applications to enhance learning.">
   <link rel="icon" href="/home/icon.png" type="image/png">

   <!-- Open Graph / Facebook -->
   <meta property="og:type" content="website">
   <meta property="og:title" content="AJH's Vault V6">
   <meta property="og:description" content="Explore a variety of student-friendly tools and resources to enrich your learning experience.">
   <meta property="og:image" content="icon.png">
   <meta property="og:url" content="https://ajhmath.org">

   <!-- Twitter Card -->
   <meta name="twitter:card" content="summary_large_image">
   <meta name="twitter:title" content="AJH's Vault V6">
   <meta name="twitter:description" content="A collection of web tools and educational applications for students.">
   <meta name="twitter:image" content="icon.png">

   <!-- Discord Embed -->
   <meta property="og:site_name" content="AJH's Vault V6">
   <meta name="theme-color" content="#1581b2">

   <!-- Structured Data Schema -->
   <script type="application/ld+json">
   {
       "@context": "https://schema.org",
       "@type": "EducationalOrganization",
       "name": "AJH's Vault V6 - Learning Hub",
       "url": "https://ajhmath.org",
       "logo": "icon.png",
       "description": "An interactive hub for students to access various web-based tools and applications.",
       "sameAs": [
           "https://www.instagram.com/@ajhsvault",
           "https://discord.com/invite/UnDrzQQksw"
       ]
   }
   </script>

   <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6084312783725533"
   crossorigin="anonymous"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-03F8ZHB8D8%22%3E">
</script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){
dataLayer.push(arguments);
}
gtag('js', new Date());
gtag('config', 'G-03F8ZHB8D8');
</script>
   
   <link rel="manifest" href="/home/manifest.json">
   <style>
  
    input, select, .btn {
      outline: none;
      border-radius: 1em;
      background: none;
      border: solid 2px #9b9b9b;
      color: #fff;
      font-family: 'Satoshi', sans-serif;
      margin-top: 2em;
      margin-left: 1em;
    }
    
    input, .btn {
      height: 3em;
      margin-left: 3em;
      padding: 0.25em;
    }
    
    option {
      background: #000;
      font-family: 'Satoshi', sans-serif;
    }
    
    select {
      height: 3.8em;
    }
    .btn:hover, select option:hover, select:hover {
      cursor: pointer;
    }
    
    ::placeholder {
      color: #fff;
      opacity: 1; /* Firefox */
    }
    
    ::-ms-input-placeholder { /* Edge 12 -18 */
      color: #fff;
    }
    
    .game-card {
      transition: transform 0.2s;
    }
    
    .game-card:hover {
      transform: scale(1.05);
    }
    
    .toggle-container {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .switch {
      position: relative;
      display: inline-block;
      width: 40px;
      height: 20px;
    }
    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    .slider {
      position: absolute;
      cursor: pointer;
      top: 0; left: 0; right: 0; bottom: 0;
      background-color: #131313;
      transition: 0.3s;
      border-radius: 20px;
    }
    .slider:before {
      position: absolute;
      content: "";
      height: 14px;
      width: 14px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: 0.4s;
      border-radius: 50%;
    }
    input:checked + .slider {
      background-color: #2293c7;
    }
    input:checked + .slider:before {
      transform: translateX(20px);
    }
    .modal {
      display: none;
      position: fixed;
      left: 35%;
      top: 30%;
      transform: translate(-50%, -50%);
      width: 30vw;
      height: 30vh;
      background: rgba(5, 5, 5, 0.973);
      padding: 1em;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
      border-radius: 1em;
      font-size: 1.1em;
      z-index: 3;
      text-align: right;
      border: solid 2px rgba(121, 121, 121, 0.3);
      animation: fadeSlideUp 0.5s ease-out forwards;
      overflow-y: scroll;
    }
    hr {
    border-color: rgba(255, 255, 255, 0.158);
    }
    .modal .close {
      position: absolute;
      top: 0;
      right: 0;
      cursor: pointer;
    }
    .modal-close:hover {
    cursor: pointer;
    }
    .modal-close {
    font-size: 2em;
    line-height: 0;
    }
    .modal-content {
    text-align: left;
    }
    </style>
</head>

   <body>
    <script src="index.js" defer></script>
      <iframe class="search-output" id="output-specific" src=""></iframe>
      <nav>
        <a href="/home"><i class="fa-solid fa-house"></i></a>
        <a href="/home/g.html"><i class="fa-solid fa-gamepad"></i></a>
        <a href="/home/a.html"><i class="fa-solid fa-th"></i></a>
        <a href="/home/learning.html"><i class="fa-solid fa-calculator"></i></a>
        <a href="/home" class="active"><i class="fa-solid fa-magnifying-glass"></i></a>
        <a href="https://docs.google.com/document/d/14LlAmWkhchNJ83BhM3KFEk4MLhu5HERqlwljGJs6fN4/edit?usp=sharing"><i class="fa-solid fa-link"></i></a>
          <a href="https://github.com/1ajh/vaultv6"><i class="fa-brands fa-github"></i></a>
          <a href="https://discord.gg/UnDrzQQksw"><i class="fa-brands fa-discord"></i></a>
          <a href="/home/partners.html"><i class="fa-solid fa-handshake"></i></a>
      </nav>
      <!-- <footer>
         <a href="https://ajh.boats">ajh.boats</a>
         <a href="https://discord.gg/UnDrzQQksw">discord server</a>
      </footer> -->
      
      <script>
const uvPrefix = '/home/tiw/'
const ls = window.top.location.search;
const urlParams = new URLSearchParams(ls);
    
let urlToProxy = urlParams.get('url');
    
const xorEncode = {
        encode(str) {
            if (!str) return str;
            return encodeURIComponent(
                str
                    .toString()
                    .split('')
                    .map((char, ind) =>
                        ind % 2 ? String.fromCharCode(char.charCodeAt() ^ 2) : char
                     )
                    .join('')
            );
        }
    };


if (urlToProxy){
    let proxiedUrl = uvPrefix + xorEncode.encode(urlToProxy);
    console.log('src is now ' + proxiedUrl)
    document.getElementById('output-specific').src = proxiedUrl;
} else{
  const iframe = document.getElementById("output-specific");
  const storedUrl = sessionStorage.getItem("searchUrl");
  console.log("Retrieved search URL:", storedUrl);
  if (storedUrl) {
      iframe.src = storedUrl;
  } else {
      console.error("No search URL found.");
  }
}
     </script>

<div class="modal-overlay" id="modalOverlay" onclick="closeModal()"></div>
<div class="modal" id="settingsModal">
    <span class="modal-close" onclick="closeModal()">&times;</span>
    <div class="modal-content">
      <h2>settings</h2>
      Lag fixes
        <div class="toggle-container">
            <label class="switch">
                <input type="checkbox" id="waveToggle">
                <span class="slider"></span>
            </label>
            <span>Toggle waves</span>
        </div>
        <div class="toggle-container">
         <label class="switch">
             <input type="checkbox" id="particlesToggle">
             <span class="slider"></span>
         </label>
         <span>Toggle particles (helps a LOT)</span>
     </div>
     <hr>
     Tab cloaking<br>
     <select name="tabcloaks" id="premadecloaks" title="Tab cloaks">
      <option value="search">Google</option>
      <option value="drive">Google Drive</option>
      <option value="classroom">Google Classroom</option>
      <option value="fakesearch">Fake Google Search</option>
      <option value="gmail">Gmail</option>
      <option value="word">Word</option>
      <option value="powerpoint">Powerpoint</option>
      <option value="youtube">YouTube</option>
      <option value="calendar">Google Calendar</option>
      <option value="meets">Google Meet</option>
      <option value="classroom">Google Classroom</option>
      <option value="canvas">Canvas</option>
      <option value="zoom">Zoom</option>
      <option value="khan">Khan Academy</option>
      <div class="select-buttons">
      </div>
    </select>
      <button class="btn" onclick="setCloak()">Set Cloak</button>
      <button class="btn" onclick="resetTab()">Reset Cloak</button>
        <hr>

    </div>
</div>
<script>
   document.addEventListener("DOMContentLoaded", function() {
   const toggle = document.getElementById("waveToggle");
   const ocean = document.getElementById("ocean");
   
   function updateVisibility() {
       if (localStorage.getItem("wavesDisabled") === "true") {
           ocean.style.display = "none";
           toggle.checked = true;
       } else {
           ocean.style.display = "block";
           toggle.checked = false;
       }
   }
   
   toggle.addEventListener("change", function() {
       localStorage.setItem("wavesDisabled", toggle.checked);
       updateVisibility();
   });
   
   updateVisibility();
});

function settingsModal() {
   document.getElementById("settingsModal").style.display = "block";
}
function closeModal() {
   document.getElementById("settingsModal").style.display = "none";
}
document.addEventListener("DOMContentLoaded", function() {
  const toggle = document.getElementById("particlesToggle");
  const particles = document.getElementById("particles-js");
  function updateVisibility() {
     if (localStorage.getItem("particlesDisabled") === "true") {
           particles.style.display = "none";
           toggle.checked = true;
     } else {
           particles.style.display = "block";
           toggle.checked = false;
     }
  }
  toggle.addEventListener("change", function() {
     localStorage.setItem("particlesDisabled", toggle.checked);
     updateVisibility();
  });
  updateVisibility();
});
function settingsModal() {
  document.getElementById("settingsModal").style.display = "block";
}
function closeModal() {
  document.getElementById("settingsModal").style.display = "none";
}

// Define some varibles for later
const origin = localStorage.getItem('instance');
const cdn = localStorage.getItem('cdn');
const queryString = window.location.search;
const urlParams = new URLSearchParams(queryString);
const onLoadData = urlParams.get('onload');

const base = document.createElement('base');
base.href = location.origin + path.replace(path.split('\\').pop().split('/').pop(), '');
document.head.appendChild(base);

// If we do not have the origin var, we make it
if (!origin) {
 localStorage.setItem('instance', base.href);
 location.reload();
}



const instance = encodeURIComponent(origin.replace(location.origin, ''));

// If we have onLoadData, we run it now
window.onload = () => {
 if (onLoadData) {
   eval(onLoadData);
 }
};

// If we have any errors, we will log it
window.onerror = (e) => {
 throw new Error(e);
};

// Collect Tab Cloak data from local storage
var tab = localStorage.getItem('tab');
if (tab) {
 try {
   // Parse the data, it is in JSON
   var tabData = JSON.parse(tab);
 } catch {
   var tabData = {};
 }
} else {
 var tabData = {};
}

// Set the Tab title if the Tab cloak data is there
if (tabData.title) {
 document.title = tabData.title;
}

// Set the Tab icon if the Tab cloak data is there
if (tabData.icon) {
 document.querySelector('link[rel="icon"]').href = tabData.icon;
}

function setTitle(title) {
    document.title = title;
}

function setFavicon(iconURL) {
    let link = document.querySelector("link[rel~='icon']");
    if (!link) {
        link = document.createElement("link");
        link.rel = "icon";
        document.head.appendChild(link);
    }
    link.href = iconURL;
}


document.addEventListener("DOMContentLoaded", () => {
    const modal = document.getElementById("settingsModal");
    if (modal) {
        modal.style.display = "none";
        setTimeout(() => {
            modal.style.display = "block";
        }, 2000);
    }
});


var tab = localStorage.getItem("tab");

if (tab) {
 try {
   var tabData = JSON.parse(tab);
   if (tabData.theme) {
     var styleTag = document.getElementById("theme-style");
     if (!styleTag) {
       styleTag = document.createElement("style");
       styleTag.id = "theme-style";
       document.body.appendChild(styleTag);
     }
     switch (tabData.theme) {
       case "dark":
         styleTag.innerHTML = "body { background-color: #121212; color: #e0e0e0; }";
         break;
       case "light":
         styleTag.innerHTML = "body { background-color: #ffffff; color: #000000; }";
         break;
       default:
         styleTag.innerHTML = "";
     }


   }
 } catch {
   // Handle or ignore parsing error
 }
}

var tab = localStorage.getItem("tab");

if (tab) {
try {
 var tabData = JSON.parse(tab);
} catch {
 var tabData = {};
}
} else {
var tabData = {};
}


function setCloak() {
 var cloak = document.getElementById("premadecloaks").value;
 switch (cloak) {
   case "defaultsettings":
   setTitle("AJH's Vault V6");
   setFavicon("/home/icon.png");
   localStorage.setItem("tab", JSON.stringify({}));
   location.reload();
   break;
   case "search":
     setTitle("Google");
     setFavicon("https://frogieeshouldgeta.massivelowtaperfa.de/assets/img/favicons/google.ico");
     location.reload();
     break;
   case "drive":
     setTitle("My Drive - Google Drive");
     setFavicon("https://frogieeshouldgeta.massivelowtaperfa.de/assets/img/favicons/google-drive-ico.ico");
     location.reload();
     break;
   case "classroom":
     setTitle("Google Classroom");
     setFavicon("https://frogieeshouldgeta.massivelowtaperfa.de/assets/img/favicons/google-classroom.ico");
     location.reload();
     break;
   case "gmail":
     setTitle("Gmail");
     setFavicon("https://frogieeshouldgeta.massivelowtaperfa.de/assets/img/favicons/gmail.ico");
     location.reload();
     break;
   case "word":
     setTitle("Document.docx");
     setFavicon("https://frogieeshouldgeta.massivelowtaperfa.de/assets/img/favicons/word.ico");
     location.reload();
     break;
   case "powerpoint":
     setTitle("Presentation.pptx");
     setFavicon("https://frogieeshouldgeta.massivelowtaperfa.de/assets/img/favicons/powerpoint.ico");
     location.reload();
     break;
   case "youtube": 
     setTitle("YouTube");
     setFavicon("https://frogieeshouldgeta.massivelowtaperfa.de/assets/img/favicons/youtube.ico");
     location.reload();
     break;
   case "calendar":
     setTitle("Google Calendar");
     setFavicon("https://frogieeshouldgeta.massivelowtaperfa.de/assets/img/favicons/google-calender.ico");
     location.reload();
     break;
   case "meets":
     setTitle("Google Meet");
     setFavicon("https://frogieeshouldgeta.massivelowtaperfa.de/assets/img/favicons/google-meet.ico");
     location.reload();
     break;
   case "canvas":
     setTitle("Canvas");
     setFavicon("https://frogieeshouldgeta.massivelowtaperfa.de/assets/img/favicons/canvas.ico");
     location.reload();
     break;
   case "zoom":
     setTitle("Zoom");
     setFavicon("https://frogieeshouldgeta.massivelowtaperfa.de/assets/img/favicons/zoom.ico");
     location.reload();
     break;
   case "khan":
     setTitle("Khan Academy"); 
     setFavicon("https://frogieeshouldgeta.massivelowtaperfa.de/assets/img/favicons/khan-academy.ico");
     location.reload();
     break;
   case "fakesearch":
     setTitle("calculator - Google Search"); 
     setFavicon("https://frogieeshouldgeta.massivelowtaperfa.de/assets/img/favicons/google.ico");
     location.reload();
     break;
 }
}

function resetTab() {
 setTitle("AJH's Vault V6");
 setFavicon("/home/icon.png");
  var tab = localStorage.getItem("tab");

  if (tab) {
    try {
      var tabData = JSON.parse(tab);
      var theme = tabData.theme
      var mobiledata
    } catch {
      var tabData = {};
    }
  } else {
    var tabData = {};
  }

  if (theme) {
    const consttheme = tabData.theme;
    localStorage.setItem("tab", JSON.stringify({}));
    setTheme(consttheme);
  } 
  else if (mobiledata){
   const constmobiledata = tabData.mobilescreen;
   localStorage.setItem("tab", JSON.stringify({}));
   var tabData = JSON.parse(localStorage.getItem("tab")) || {};
   tabData.mobilescreen = constmobiledata;
   localStorage.setItem("tab", JSON.stringify(tabData));
  }
  else {
   localStorage.setItem("tab", JSON.stringify({}));
  }
 location.reload();
}

window.onload = () => {
 if (onLoadData) {
   eval(onLoadData);
 }
};

window.onerror = (e) => {
 throw new Error(e);
};

var tab = localStorage.getItem('tab');
if (tab) {
 try {
   var tabData = JSON.parse(tab);
 } catch {
   var tabData = {};
 }
} else {
 var tabData = {};
}

if (tabData.title) {
 document.title = tabData.title;
}

if (tabData.icon) {
 document.querySelector('link[rel="icon"]').href = tabData.icon;
}

function setTitle(title) {
    document.title = title;
}

function setFavicon(iconURL) {
    let link = document.querySelector("link[rel~='icon']");
    if (!link) {
        link = document.createElement("link");
        link.rel = "icon";
        document.head.appendChild(link);
    }
    link.href = iconURL;
}


document.addEventListener("DOMContentLoaded", () => {
    const modal = document.getElementById("settingsModal");
    if (modal) {
        modal.style.display = "none";
        setTimeout(() => {
            modal.style.display = "block";
        }, 2000);
    }
});

</script>

   </body>
</html>
